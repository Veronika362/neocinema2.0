<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NeoCinema | Главная</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="index.css"></script>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Raleway:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Raleway', sans-serif;
      background: radial-gradient(#0a0a1a, #000);
      color: white;
    }
    .neon {
      text-shadow: 0 0 5px #0ff, 0 0 10px #0ff, 0 0 20px #0ff;
    }
    .film-card:hover video {
      opacity: 1;
    }
/* Скрыть скроллбар */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}
.scrollbar-hide {
  -ms-overflow-style: none; /* IE и Edge */
  scrollbar-width: none; /* Firefox */
}
#resetButton {
  padding: 8px 16px;
  margin-left: 10px;
  background-color: #ff4c4c;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

#resetButton:hover {
  background-color: #ff0000;
}
.filters select,
.filters input[type="text"] {
  background-color: #1a1a2e;
  color: #ffffff;
  border: 2px solid #0ff;
  border-radius: 10px;
  padding: 10px 14px;
  font-size: 16px;
  margin: 5px;
  outline: none;
  transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

.filters select:focus,
.filters input[type="text"]:focus {
  border-color: #00ffff;
  box-shadow: 0 0 10px #00ffff88;
}

#resetButton {
  background-color: #ff4c4c;
  color: white;
  border: none;
  border-radius: 10px;
  padding: 10px 16px;
  font-size: 16px;
  margin: 5px;
  cursor: pointer;
  transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

#resetButton:hover {
  background-color: #ff0000;
  box-shadow: 0 0 8px #ff0000aa;
}

.filters {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  margin-bottom: 20px;
  gap: 10px;
}
  .fade-text {
    transition: opacity 0.3s ease-in-out;
  }
  </style>
</head>
<body class="overflow-x-hidden">

  <!-- Header -->
  <header class="flex items-center justify-between px-6 py-4 bg-black bg-opacity-90 fixed top-0 w-full z-50 shadow-lg">
    <img src="c294b46e-6706-4c55-81e5-3240b7e58-08.png" alt="NeoCinema" class="h-16">
    <nav class="space-x-4 text-white text-sm">
      <a href="#" class="hover:text-cyan-400">Главная</a>
      <a href="#catalog" class="hover:text-cyan-400">Каталог</a>
      <a href="#about" class="hover:text-cyan-400">О нас</a>
      <a href="contacts.html" class="hover:text-cyan-400">Контакты</a>
      <a href="login.html" class="hover:text-cyan-400">Вход/Регестрация</a>
    </nav>
  </header>

  <!-- Hero Section -->
  <section class="h-screen flex flex-col justify-center items-center text-center pt-24">
    <h1 class="text-5xl md:text-7xl font-bold neon mb-4">NeoCinema</h1>
    <p class="text-lg md:text-2xl text-gray-300 mb-6">Галактика фильмов, сериалов и фантастики</p>
    <a href="#catalog" class="bg-cyan-500 hover:bg-cyan-700 text-white font-bold py-2 px-6 rounded-full transition">Смотреть сейчас</a>
  </section>

<!-- Carousel Section -->
<section class="px-6 py-16 bg-gradient-to-b from-black via-[#11111f] to-black">
  <h2 class="text-3xl mb-6 font-semibold neon">Топ-10 галактических фильмов</h2>

  <div class="flex overflow-x-auto space-x-6 scrollbar-hide">
    <!-- Фильм 1 -->
    <div class="relative w-64 h-96 rounded-xl overflow-hidden shadow-xl film-card group">
      <img src="6173994253.jpg" class="object-cover w-full h-full transition-opacity duration-300 group-hover:opacity-0" alt="Интерстеллар">
<video class="absolute top-0 left-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition-opacity duration-300"
       muted autoplay loop playsinline>
  <source src="Interstellar.mp4" type="video/mp4">
      </video>
      <div class="absolute bottom-0 w-full bg-gradient-to-t from-black to-transparent p-4">
        <h3 class="font-bold text-lg">Интерстеллар</h3>
      <a href="movie.html?film=interstellar" class="movie-card">подробнее...</a>
</div>
    </div>

    <!-- Фильм 2 -->
    <div class="relative w-64 h-96 rounded-xl overflow-hidden shadow-xl film-card group">
      <img src="t-z-1n3dtjQRsF4lV8buG9ggogYri0FsYj2Ptm-myefshLr_Gi4sZJhNmsGSpe5fqPiNmf-T4ZXzfms-p8rg97Ms2ydcKHMx9UHbBaKz6q8Y9eMCzw51LbMIilOdVctkzhOYnOisLqKMKY6wd3A7y6xoXUj6QmUhpF3fadK-xKcW3t1n-94WF0YRTIUlV_9NW0OTIihpsypRH73XjM.webp" class="object-cover w-full h-full transition-opacity duration-300 group-hover:opacity-0" alt="Звёздные войны">
  <video class="absolute top-0 left-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition-opacity duration-300"
       muted autoplay loop playsinline>
  <source src="Star Wars_ The Complete Saga Trailer.mp4" type="video/mp4">
      </video>
      <div class="absolute bottom-0 w-full bg-gradient-to-t from-black to-transparent p-4">
        <h3 class="font-bold text-lg">Звёздные войны</h3>
      </div>
    </div>

   <!-- Фильм 3 -->
    <div class="relative w-64 h-96 rounded-xl overflow-hidden shadow-xl film-card group">
      <img src="t-z-1n3dtjQRsF4lV8buG9ggogYri0FsYj2Ptm-myefshLr_Gi4sZJhNisHSVe5PqH3tya-TgRVjfg5LQrrg9_O8uydpbTMh8GT7dfIW6tpN4LbXnw51LbMIilOdVctkzhOYnOisLqKMKY6wd3A7y6xoXUj6QmUhpF3fadK-xKcW3t1n-94WF0YRTIUlV_9NW0OTIihpsypR.webp" class="object-cover w-full h-full transition-opacity duration-300 group-hover:opacity-0" alt="Чужой">
     <video class="absolute top-0 left-0 w-full h-full object-cover opacity-0 group-hover:opacity-100 transition-opacity duration-300"
       muted autoplay loop playsinline>
  <source src="Чужой 1979  Трейлер.mp4" type="video/mp4">
      </video>
      <div class="absolute bottom-0 w-full bg-gradient-to-t from-black to-transparent p-4">
        <h3 class="font-bold text-lg">Чужой</h3>
      </div>
    </div>


    <!-- Добавляй другие фильмы по этому же шаблону -->
  </div>
</section>

  <section id="catalog" class="pt-28 px-6">
    <h1 class="text-4xl font-bold text-center neon mb-8">Каталог фильмов</h1>
</section>
<div class="flex flex-col md:flex-row items-center gap-4">
    <input 
      type="text" 
      id="searchInput" 
      placeholder="Начните вводить название фильма..." 
      class="p-3 w-full md:w-1/2 bg-black border border-cyan-400 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-400 transition"
    />
    <!--  Фильтры -->
<div class="filters">
 <select id="genreFilter">
        <option value="">Все жанры</option>
        <option value="Фантастика">Фантастика</option>
        <option value="Драма">Драма</option>
        <option value="Аниме">Аниме</option>
        <option value="Комедия">Комедия</option>
        <option value="Триллер">Триллер</option>
        <option value="Боевик">Боевик</option>
      </select>
  <select id="yearFilter">
        <option value="">Все годы</option>
        <option value="2025">2025</option>
        <option value="2024">2024</option>
        <option value="2023">2023</option>
        <option value="2022">2022</option>
        <option value="2021">2021</option>
        <option value="2020">2020</option>
        <option value="2019">2019</option>
        <option value="2018">2018</option>
        <option value="2017">2017</option>
        <option value="2016">2016</option>
        <option value="2015">2015</option>
        <option value="2014">2014</option>
        <option value="2013">2013</option>
        <option value="2012">2012</option>
        <option value="2011">2011</option>
        <option value="2010">2010</option>
        <option value="2009">2009</option>
        <option value="2008">2008</option>
        <option value="2007">2007</option>
        <option value="2006">2006</option>
        <option value="2005">2005</option>
        <option value="2004">2004</option>
        <option value="2003">2003</option>
        <option value="2002">2002</option>
        <option value="2001">2001</option>
        <option value="2000">2000</option>
      </select>
   <button 
      id="resetButton" 
      class="px-4 py-2 bg-cyan-500 text-black font-semibold rounded-lg hover:bg-cyan-400 transition">
      Сбросить фильтры
    </button>
  </div>
 <div id="suggestions" class="absolute z-10 mt-2 bg-[#111] border border-cyan-600 rounded-lg shadow-xl w-full md:w-1/2 max-h-60 overflow-y-auto hidden">
    <!-- Подсказки динамически добавляются здесь -->
    <!-- Пример: -->
    <!--
    <div class="flex items-center p-3 hover:bg-[#1e1e1e] cursor-pointer">
      <img src="poster.jpg" alt="Poster" class="w-12 h-16 object-cover rounded mr-3">
      <div>
        <p class="text-white font-medium">Название фильма</p>
        <p class="text-sm text-gray-400">Год, жанр</p>
      </div>
    </div>
    -->
  </div>
</div>
  <!-- Горизонтальный скролл без скроллбара -->
  <div id="scrollContainer"
       class="flex overflow-x-auto space-x-6 pb-4 snap-x snap-mandatory scrollbar-hide"
       style="scroll-behavior: smooth;">

    <!-- Карточка 1 -->
    <div class="movie-card flex-shrink-0 w-64 bg-gray-800 rounded-lg p-4 cursor-pointer hover:scale-105 transition snap-start"
data-title="Унесённые призраками"
data-description="Тихиро с мамой и папой переезжает в новый дом. Заблудившись по дороге..."
          data-video="Унесённые призраками — Русский трейлер (2001).mp4">
      <img src="8d7SRTHz7Gq7OJ1SS59vh0y8jkNdmsYX5U3Bagb11qLvKYHMibbLWDEan88MIb1LGqLyETOhidku3IA-L864DWXNh5L1dnq97L_NUp2KOsHevlrSW8jSxuIJFX2RPhqo46PdRQZ8w1MpSs6ey_ZrHMqmsIe39swL60AbLypfKFD7UtENdmUtpT6onlmCW26MFHtLz0Rei9l8TM.webp" alt="Постер" class="w-full rounded mb-2" />
      <h2 class="movie-title">Унесённые призраками</h2>
 <p><span class="movie-year">2001</span> • <span class="movie-genres">аниме</span> • 8.0</p>
      <p class="text-sm text-gray-300">
Тихиро с мамой и папой переезжает в новый дом. Заблудившись по дороге, они оказываются в странном пустынном городе, где их ждет великолепный пир. Родители с жадностью набрасываются на еду и к ужасу девочки превращаются в свиней, став пленниками злой колдуньи Юбабы. Теперь, оказавшись одна среди волшебных существ и загадочных видений, Тихиро должна придумать, как избавить своих родителей от чар коварной старухи.      </p>
    </div>

    <!-- Карточка 2 -->
    <div class="movie-card flex-shrink-0 w-64 bg-gray-800 rounded-lg p-4 cursor-pointer hover:scale-105 transition snap-start"
 data-title="1+1"
     data-description="Пострадав в результате несчастного случая, богатый аристократ Филипп нанимает..."
         data-video="_Неприкасаемые (2011) — русский трейлер.mp4">
      <img src="8d7SRTHz7Gq7OJ1SS59vh0y8jkNdmsYX5U3Bagb11qLvKYHMibbLWDEbX01MYL2KXTFzhbKiXhs7Woerbw89CySPU5XmYDsqKzhNUt4LuxWeaVsQWppUh2IbBT_RJdqvY6MaAQE6ANCohI6e3acrnQrhd0YxcN1c6oqbMP9ebxt5ERsCueMqaTFqWJdDlCvBEnRLQodRAt59hU.webp" alt="Постер" class="w-full rounded mb-2" />
      <h2 class="movie-title">1+1</h2>
     <p><span class="movie-year">2011</span> • <span class="movie-genres"> Драма, комедия</span> • 8.4</p>
      <p class="text-sm text-gray-300">
Пострадав в результате несчастного случая, богатый аристократ Филипп нанимает в помощники человека, который менее всего подходит для этой работы, – молодого жителя предместья Дрисса, только что освободившегося из тюрьмы. Несмотря на то, что Филипп прикован к инвалидному креслу, Дриссу удается привнести в размеренную жизнь аристократа дух приключений.      </p>
    </div>

    <!-- Карточка 3 -->
    <div class="movie-card flex-shrink-0 w-64 bg-gray-800 rounded-lg p-4 cursor-pointer hover:scale-105 transition snap-start"
 data-title="Побег из Шоушенка"
     data-description="Бухгалтер Энди Дюфрейн обвинён в убийстве собственной жены и её любовника..."
         data-video="Побег из Шоушенка (1994) — русский трейлер.mp4">
      <img src="8d7SRTHz7Gq7OJ1SS59vh0y8jkNdmsYX5U3Bagb11qLvKYHMibbLWDEbXg1OIL3JWraz0Ca0iw86nJXrb464DXAPxxL1dPk-rL0PE4mLrkHK6xlGG0jSxuIJFX2RPhqo46PdRQZ8w1MpSs6ey_ZrHMqmsIe39swL60AbLypfKFD7UtENdmUtpT6onlmCW26MFHtLz0Rei9l8TM.webp" alt="Постер" class="w-full rounded mb-2" />
      <h2 class="movie-title">Побег из Шоушенка</h2>
     <p><span class="movie-year">1994 </span> • <span class="movie-genres"> Драма </span>• 9.1</p>
      <p class="text-sm text-gray-300">
Бухгалтер Энди Дюфрейн обвинён в убийстве собственной жены и её любовника. Оказавшись в тюрьме под названием Шоушенк, он сталкивается с жестокостью и беззаконием, царящими по обе стороны решётки. Каждый, кто попадает в эти стены, становится их рабом до конца жизни. Но Энди, обладающий живым умом и доброй душой, находит подход как к заключённым, так и к охранникам, добиваясь их особого к себе расположения.      </p>
    </div>

    <!-- Карточка 4 -->
    <div class="movie-card flex-shrink-0 w-64 bg-gray-800 rounded-lg p-4 cursor-pointer hover:scale-105 transition snap-start"
 data-title="Властелин колец 3- Возвращение Короля"
     data-description="Повелитель сил тьмы Саурон направляет свою бесчисленную армию под стены Минас-Тирита, крепости Последней Надежды..."
         data-video="Властелин колец 3- Возвращение Короля (2003) — русский трейлер HD.mp4">
      <img src="8d7SRTHz7Gq7OJ1SS59vh0y8jkNdmsYX5U3Bagb11qLvKYHMibbLWDEaH48MoT1LGqPmUac0ylsvnJR_bw84DXAah1L1oPu97KtaUwiLe1TLvpoQDsjSxuIJFX2RPhqo46PdRQZ8w1MpSs6ey_ZrHMqmsIe39swL60AbLypfKFD7UtENdmUtpT6onlmCW26MFHtLz0Rei9l8TM.webp" alt="Постер" class="w-full rounded mb-2" />
      <h2 class="movie-title">Властелин колец: Возвращение короля</h2>
     <p><span class="movie-year">2003 </span> • <span class="movie-genres"> фэнтези, драма, боевик </span>• 8.7</p>
      <p class="text-sm text-gray-300">
Повелитель сил тьмы Саурон направляет свою бесчисленную армию под стены Минас-Тирита, крепости Последней Надежды. Он предвкушает близкую победу, но именно это мешает ему заметить две крохотные фигурки — хоббитов, приближающихся к Роковой Горе, где им предстоит уничтожить Кольцо Всевластья.      </p>
    </div>

    <!-- Карточка 5 -->
    <div class="movie-card flex-shrink-0 w-64 bg-gray-800 rounded-lg p-4 cursor-pointer hover:scale-105 transition snap-start"
 data-title="Бойцовский клуб"
     data-description="Сотрудник страховой компании страдает хронической бессонницей и отчаянно пытается вырваться из мучительно скучной жизни..."
         data-video="БОЙЦОВСКИЙ КЛУБ - Новый Трейлер (2023).mp4">
      <img src="8d7SRTHz7Gq7OJ1SS59vh0y8jkNdmsYX5U3Bagb11qLvKYHMibbLWDEaHo9N4ryLmrSmBWZiCs4uXIHre1r4DXCPktL1YC9-7L0aBp0K-xQKv9uGG0jSxuIJFX2RPhqo46PdRQZ8w1MpSs6ey_ZrHMqmsIe39swL60AbLypfKFD7UtENdmUtpT6onlmCW26MFHtLz0Rei9l8TM.webp" alt="Постер" class="w-full rounded mb-2" />
      <h2 class="movie-title">Бойцовский клуб</h2>
      <p><span class="movie-year">1999 </span> • <span class="movie-genres"> триллер, драма </span>• 8.7</p>
      <p class="text-sm text-gray-300">
Сотрудник страховой компании страдает хронической бессонницей и отчаянно пытается вырваться из мучительно скучной жизни. Однажды в очередной командировке он встречает некоего Тайлера Дёрдена — харизматического торговца мылом с извращенной философией. Тайлер уверен, что самосовершенствование — удел слабых, а единственное, ради чего стоит жить, — саморазрушение.      </p>
    </div>

    <!-- Карточка 6 -->
    <div class="movie-card flex-shrink-0 w-64 bg-gray-800 rounded-lg p-4 cursor-pointer hover:scale-105 transition snap-start"
 data-title="Начало"
     data-description="Кобб – талантливый вор, лучший из лучших в опасном искусстве извлечения: он крадет ценные секреты из глубин подсознания во время сна.."
         data-video="Начало (2010) — русский трейлер HD.mp4">
      <img src="8d7SRTHz7Gq7OJ1SS59vh0y8jkNdmsYX5U3Bagb11qLvKYHMibbLWDEbXs-OIH8LWrSzBWV0S9s4XJX-Oo54DWSaRhL1oC5rbL8Ohp5LuJSKKRvHW4jSxuIJFX2RPhqo46PdRQZ8w1MpSs6ey_ZrHMqmsIe39swL60AbLypfKFD7UtENdmUtpT6onlmCW26MFHtLz0Rei9l8TM.webp" alt="Постер" class="w-full rounded mb-2" />
      <h2 class="movie-title">Начало</h2>
      <p><span class="movie-year">2010 </span> • <span class="movie-genres">
фантастика, боевик, триллер</span> • 7.9</p>
      <p class="text-sm text-gray-300">
Кобб – талантливый вор, лучший из лучших в опасном искусстве извлечения: он крадет ценные секреты из глубин подсознания во время сна, когда человеческий разум наиболее уязвим. Но никакое планирование или мастерство не могут подготовить команду к встрече с опасным противником, который, кажется, предугадывает каждый их ход. Врагом, увидеть которого мог бы лишь Кобб.      </p>
    </div>

  </div>
</section>

<!--  Модальное окно -->
<div id="movieModal" class="fixed inset-0 bg-black bg-opacity-80 hidden items-center justify-center z-50">
  <div class="bg-gray-900 p-6 rounded-lg shadow-xl max-w-2xl relative w-full mx-4">
    <button id="closeModal" class="absolute top-2 right-2 text-cyan-400 hover:text-red-500 text-2xl">&times;</button>
    <video id="modalVideo" class="w-full mb-4 rounded" controls></video>
    <h2 id="modalTitle" class="text-2xl neon mb-2">Название фильма</h2>
    <p id="modalDescription" class="text-gray-300 mb-4">Описание фильма</p>
<div class="flex gap-4">
  <button id="watchNowBtn" class="bg-cyan-500 hover:bg-cyan-600 text-black px-4 py-2 rounded">Смотреть</button>
  <button id="addToFavorites" class="bg-pink-500 hover:bg-pink-600 text-black px-4 py-2 rounded">Добавить в избранное</button>
  <button id="watchLater" class="bg-purple-500 hover:bg-purple-600 text-black px-4 py-2 rounded">Смотреть позже</button>
</div>
  </div>
</div>
 <script>
    const modal = document.getElementById('movieModal');
    const modalVideo = document.getElementById('modalVideo');
  const modalTitle = document.getElementById('modalTitle');
    const modalDescription = document.getElementById('modalDescription');
    const closeModal = document.getElementById('closeModal');

    document.querySelectorAll('.movie-card').forEach(card => {
      card.addEventListener('click', () => {
        const videoSrc = card.dataset.video;
        const title = card.dataset.title;
        const description = card.dataset.description;

        modalVideo.src = videoSrc;
        modalTitle.innerText = title;
        modalDescription.innerText = description;
        modal.classList.remove('hidden');
 updateModalButtons(); 
      });
    });

    closeModal.addEventListener('click', () => {
      modal.classList.add('hidden');
      modalVideo.pause();
      modalVideo.currentTime = 0;
    });

    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        modal.classList.add('hidden');
        modalVideo.pause();
        modalVideo.currentTime = 0;
      }
    });
  </script>

<script>
  const scrollContainer = document.getElementById('scrollContainer');

  scrollContainer.addEventListener('wheel', (evt) => {
    evt.preventDefault();
    scrollContainer.scrollLeft += evt.deltaY;
  });
</script>

<script>
  const searchInput = document.getElementById('searchInput');
  const suggestionsBox = document.getElementById('suggestions');
  const resetButton = document.getElementById('resetButton');
  const genreFilter = document.getElementById('genreFilter');

  const sampleMovies = [
    { title: 'Матрица', year: '1999', genre: 'fantasy', img: 'https://image.tmdb.org/t/p/w200/f89U3ADr1oiB1s9GkdPOEpXUk5H.jpg' },
    { title: 'Начало', year: '2010', genre: 'action', img: 'https://image.tmdb.org/t/p/w200/9gk7adHYeDvHkCSEqAvQNLV5Uge.jpg' },
    { title: '1+1', year: '2011', genre: 'drama', img: 'https://image.tmdb.org/t/p/w200/wW7Wt5bS5uW0fNBgowAkpn2rp3F.jpg' }
  ];

  searchInput.addEventListener('input', () => {
    const query = searchInput.value.toLowerCase();
    const selectedGenre = genreFilter.value;
    const filtered = sampleMovies.filter(movie => 
      movie.title.toLowerCase().includes(query) &&
      (selectedGenre === '' || movie.genre === selectedGenre)
    );

    suggestionsBox.innerHTML = '';
    if (query.length > 0 && filtered.length > 0) {
      filtered.forEach(movie => {
        const item = document.createElement('div');
        item.className = 'flex items-center p-3 hover:bg-[#1e1e1e] cursor-pointer';
        item.innerHTML = `
          <img src="${movie.img}" alt="${movie.title}" class="w-12 h-16 object-cover rounded mr-3">
          <div>
            <p class="text-white font-medium">${movie.title}</p>
            <p class="text-sm text-gray-400">${movie.year}, ${movie.genre}</p>
          </div>
        `;
        suggestionsBox.appendChild(item);
      });
      suggestionsBox.classList.remove('hidden');
    } else {
      suggestionsBox.classList.add('hidden');
    }
  });

  resetButton.addEventListener('click', () => {
    searchInput.value = '';
    genreFilter.value = '';
    suggestionsBox.classList.add('hidden');
  });
</script>
  <!-- About Section -->
  <section id="about" class="px-6 py-16 bg-black">
    <h2 class="text-3xl font-semibold mb-6">О нас</h2>
    <p class="text-gray-400 leading-relaxed max-w-3xl">NeoCinema — это портал для всех, кто обожает кино. Мы предлагаем самые свежие трейлеры, рейтинги и персональные рекомендации. Погружайся в мир Sci-Fi и фантазии вместе с нами!</p>
  </section>

  <!-- Footer -->
  <footer class="text-center py-6 bg-black text-sm text-gray-500">
    © 2025 NeoCinema. Все права защищены.
  </footer>
<script>
  // Проверка авторизации
  const isLoggedIn = localStorage.getItem("neoUser") === "true";
  const authBtn = document.querySelector('a[href="login.html"]');

  // Обновление текста кнопки входа/кабинета
  function updateAuthUI() {
    if (isLoggedIn) {
      authBtn.textContent = "Личный кабинет";
      authBtn.href = "account.html";
    } else {
      authBtn.textContent = "Вход / Регистрация";
      authBtn.href = "login.html";
    }
  }

  updateAuthUI();

  // Функция добавления/удаления из списка
  function toggleItemInList(key, title, button) {
    if (!isLoggedIn) {
      alert("Войдите в аккаунт для доступа к этой функции.");
      return;
    }

    let list = JSON.parse(localStorage.getItem(key)) || [];
    const index = list.indexOf(title);

    if (index === -1) {
      list.push(title);
      localStorage.setItem(key, JSON.stringify(list));
      if (key === "neoFavorites") {
        button.textContent = "Удалить из избранного";
      } else if (key === "neoWatchLater") {
        button.textContent = "Удалить из списка";
      }
    } else {
      list.splice(index, 1);
      localStorage.setItem(key, JSON.stringify(list));
      if (key === "neoFavorites") {
        button.textContent = "Добавить в избранное";
      } else if (key === "neoWatchLater") {
        button.textContent = "Смотреть позже";
      }
    }

    // Если на аккаунте — обновим списки
    if (typeof updateUserPanel === "function") updateUserPanel();
  }

  // При открытии модального окна обновляем текст кнопок
  function updateModalButtons() {
    const title = document.getElementById("modalTitle").innerText;
    const favBtn = document.getElementById("addToFavorites");
    const watchBtn = document.getElementById("watchLater");

    const favList = JSON.parse(localStorage.getItem("neoFavorites")) || [];
    const watchList = JSON.parse(localStorage.getItem("neoWatchLater")) || [];

    favBtn.textContent = favList.includes(title) ? "Удалить из избранного" : "Добавить в избранное";
    watchBtn.textContent = watchList.includes(title) ? "Удалить из списка" : "Смотреть позже";
  }

  // Обработка кнопок в модальном окне
  document.getElementById("addToFavorites").onclick = function () {
    const title = document.getElementById("modalTitle").innerText;
    toggleItemInList("neoFavorites", title, this);
  };

  document.getElementById("watchLater").onclick = function () {
    const title = document.getElementById("modalTitle").innerText;
    toggleItemInList("neoWatchLater", title, this);
  };

  document.getElementById("watchNowBtn").onclick = () => {
    const title = document.getElementById("modalTitle").innerText;
    if (!isLoggedIn) {
      alert("Войдите в аккаунт для доступа к этой функции.");
      return;
    }

    let history = JSON.parse(localStorage.getItem("neoHistory")) || [];
    if (!history.includes(title)) {
      history.push(title);
      localStorage.setItem("neoHistory", JSON.stringify(history));
    }
  };

  // Вызов обновления при открытии модалки (добавь этот вызов при открытии)
  // Например, если ты открываешь модалку через функцию openModal(), то туда вставь:
  // updateModalButtons();
</script>
</body>
</html> 


